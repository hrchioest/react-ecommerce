(this.webpackJsonpecommerce=this.webpackJsonpecommerce||[]).push([[0],{104:function(e,t,a){e.exports=a(119)},109:function(e,t,a){},119:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),o=a.n(l),c=(a(109),a(10)),i=a(12),m=a(20),s=a(13),u=a(88),d=a(188),p=a(164),f=a(165),g=a(91),E=a(159),b=a(83),h=a.n(b),y=a(162),x=a(82),v=a.n(x),w=r.a.createContext(),j=function(){var e=r.a.useContext(w).cantTotal;return r.a.createElement("div",null,r.a.createElement(E.a,null,r.a.createElement(y.a,{badgeContent:e(),color:"secondary",showZero:!0},r.a.createElement(v.a,{style:{color:"white"}}))))},k=a(36),C=a(163),O=Object(C.a)((function(e){return{root:{flexGrow:1},appBar:{backgroundColor:"black"},title:{flexGrow:1,padding:"7px",height:"43px"},formControl:{margin:e.spacing(1),minWidth:180},categoria:{color:"white",textDecoration:"none"},categoriaMobile:{color:"black",textDecoration:"none"},sectionDesktop:Object(k.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(k.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}})),D=a(41),N=(a(78),D.initializeApp({apiKey:"AIzaSyCQWAnM8Svs3PfRB0ImV_KWrmTPW3y-HHk",authDomain:"react-ecommerce-740c2.firebaseapp.com",databaseURL:"https://react-ecommerce-740c2.firebaseio.com",projectId:"react-ecommerce-740c2",storageBucket:"react-ecommerce-740c2.appspot.com",messagingSenderId:"381973464289",appId:"1:381973464289:web:fc3a2065c6796f9ec823a0",measurementId:"G-GPGYL05WW9"}));function M(){return D.firestore(N)}var B=function(){var e=O(),t=Object(n.useState)([]),a=Object(s.a)(t,2),l=(a[0],a[1]);Object(n.useEffect)((function(){M().collection("categories").get().then((function(e){0===e.size&&console.log("no results"),l(e.docs.map((function(e){return Object(m.a)({},e.data(),{id:e.id})})))})).catch((function(e){console.log("Error searching categories",e)}))}),[]);var o=r.a.useState(null),i=Object(s.a)(o,2),b=i[0],y=(i[1],r.a.useState(null)),x=Object(s.a)(y,2),v=x[0],w=x[1],k=(Boolean(b),Boolean(v)),C=function(){w(null)},D=r.a.createElement(u.a,{anchorEl:v,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:k,onClose:C},r.a.createElement(c.b,{className:e.categoriaMobile,to:"/categories/notebooks"},r.a.createElement(d.a,null,"Notebooks")),r.a.createElement(c.b,{className:e.categoriaMobile,to:"/categories/audio"},r.a.createElement(d.a,null,"Audio")),r.a.createElement(c.b,{className:e.categoriaMobile,to:"/categories/smartwatches"},r.a.createElement(d.a,null,"Smartwatches")));return r.a.createElement("div",{className:e.root},r.a.createElement(p.a,{position:"static",className:e.appBar},r.a.createElement(f.a,null,r.a.createElement(g.a,{variant:"h6",className:e.title},r.a.createElement(c.c,{to:"/"},r.a.createElement("img",{className:e.title,src:"https://d26lpennugtm8s.cloudfront.net/stores/001/063/033/themes/common/logo-1421680389-1571774718-1624cbbd901c2cf55aa291fb448a8c991571774719.png?",alt:"imagen-logo"}))),r.a.createElement("div",{className:e.grow}),r.a.createElement("div",{className:e.sectionDesktop},r.a.createElement(c.b,{className:e.categoria,to:"/"},r.a.createElement(d.a,null,"Home")),r.a.createElement(c.b,{className:e.categoria,to:"/categories/notebooks"},r.a.createElement(d.a,null,"Notebooks")),r.a.createElement(c.b,{className:e.categoria,to:"/categories/audio"},r.a.createElement(d.a,null,"Audio")),r.a.createElement(c.b,{className:e.categoria,to:"/categories/smartwatches"},r.a.createElement(d.a,null,"Smartwatches"))),r.a.createElement("div",{className:e.sectionMobile},r.a.createElement(E.a,{"aria-label":"show more","aria-controls":"primary-search-account-menu-mobile","aria-haspopup":"true",onClick:function(e){w(e.currentTarget)},color:"inherit"},r.a.createElement(h.a,null))),r.a.createElement(c.c,{to:"/cart"},r.a.createElement(j,null)))),D)},S=a(184),W=a(166),I=function(e){var t=e.item,a=t.id,n=t.name,l=(t.description,t.price),o=t.img;return r.a.createElement(S.a,{flexDirection:"colum",marginTop:"60px"},r.a.createElement("h2",null,n),r.a.createElement("span",null,"Price :",l),r.a.createElement("div",null,r.a.createElement(c.b,{to:"/item/".concat(a)},r.a.createElement("img",{src:o,alt:"img",width:"350"}))),r.a.createElement(c.b,{to:"/item/".concat(a),style:{textDecoration:"none",color:"black"}},r.a.createElement(W.a,{variant:"contained",style:{backgroundColor:"#f7d04b"}},"Details")))},H=function(e){var t=e.list;return r.a.createElement(S.a,{display:"flex",justifyContent:"space-around",flexWrap:"wrap",marginBottom:"100px"},t.map((function(e){return r.a.createElement(I,{key:e.id,item:e})})))},A=[{idCategory:"notebooks",img:"https://images.unsplash.com/photo-1544731612-de7f96afe55f?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80"},{idCategory:"audio",img:"https://images.unsplash.com/photo-1528148343865-51218c4a13e6?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80"},{idCategory:"smartwatches",img:"https://images.unsplash.com/photo-1434493789847-2f02dc6ca35d?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=751&q=80"}],F=function(e){var t=e.imgCategory,a=A.filter((function(e){return e.idCategory==t}));return console.log("img",a),r.a.createElement(r.a.Fragment,null,a.length>0&&r.a.createElement("div",null,r.a.createElement("img",{src:a[0].img,alt:"Imagen-categorias",style:{width:"100%",height:"420px",objectFit:"cover"}})))},T=a(167);function G(){return r.a.createElement("div",{style:{marginLeft:"50%",paddingTop:"15%",marginBottom:"28%"}},r.a.createElement(T.a,{disableShrink:!0}))}var V=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],l=t[1],o=Object(i.g)().categoryId;return console.log("cat1",o),Object(n.useEffect)((function(){var e=M();(o?e.collection("items").where("categoryId","==",o):e.collection("items")).get().then((function(e){0===e.size&&console.log("No existen resultados"),l(e.docs.map((function(e){return Object(m.a)({},e.data(),{id:e.id})})))}))}),[o]),console.log("cat2",o),r.a.createElement(r.a.Fragment,null,r.a.createElement(F,{imgCategory:o}),a.length>0?r.a.createElement(H,{list:a}):r.a.createElement(G,null))},q=function(){return r.a.createElement("div",null,r.a.createElement("img",{src:"https://d319yleido6tgg.cloudfront.net/stores/001/063/033/themes/cubo/slide-1571835719477-7385694174-9537d0d86060d32ec8c5dc6d975ab9741571835723-1920-1920.jpg?755810131",alt:"sections",style:{width:"100%",height:"520px",objectFit:"cover"}}))},z=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(q,null),r.a.createElement(V,null))},P=a(67),R=a.n(P),Y=a(84),L=a(183),X=a(187),J=a(172),K=a(170),Z=a(171),$=a(169),_=a(168),Q=r.a.forwardRef((function(e,t){return r.a.createElement(_.a,Object.assign({direction:"up",ref:t},e))})),U=function(e){var t=e.open,a=e.setOpen,n=function(){a(!1)};return r.a.createElement("div",null,r.a.createElement(W.a,{variant:"outlined",color:"primary",onClick:function(){a(!0)}},"Finalizar compra"),r.a.createElement(X.a,{open:t,TransitionComponent:Q,keepMounted:!0,onClose:n,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement($.a,{id:"alert-dialog-slide-title"},"Aviso para continuar compra"),r.a.createElement(K.a,null,r.a.createElement(Z.a,{id:"alert-dialog-slide-description"},"Error! Los mails no son iguales")),r.a.createElement(J.a,null,r.a.createElement(W.a,{onClick:n,color:"primary"},"Cancelar"),r.a.createElement(W.a,{onClick:n,color:"primary"},"Aceptar"))))},ee=function(e){var t=e.createOrder,a=Object(C.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"36ch"}}}})),l=Object(n.useState)({name:"",email:"",emailConfirmation:"",phone:""}),o=Object(s.a)(l,2),c=o[0],i=o[1],u=r.a.useState(!1),d=Object(s.a)(u,2),p=d[0],f=d[1],g=function(e){var t=e.target,a=t.name,n=t.value;i((function(e){return Object(m.a)({},e,Object(k.a)({},a,n))}))},E=a(),b=!(c.email.length&&c.name.length&&c.emailConfirmation.length&&c.phone.length>0&&c.email===c.emailConfirmation);return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{display:"flex",justifyContent:"center"},r.a.createElement("form",{className:E.root,noValidate:!0,autoComplete:"off",fullWidth:!0},r.a.createElement(S.a,null,r.a.createElement(L.a,{required:!0,label:"Nombre y Apellido",Value:c.name,placeholder:"Nombre y Apellido",multiline:!0,name:"name",variant:"outlined",onChange:g}),r.a.createElement(L.a,{required:!0,label:"Email",Value:c.email,placeholder:"Email",multiline:!0,name:"email",variant:"outlined",onChange:g})),r.a.createElement(S.a,null,r.a.createElement(L.a,{required:!0,label:"Repetir email",Value:c.emailConfirmation,placeholder:"Confirma tu email",multiline:!0,name:"emailConfirmation",variant:"outlined",onChange:g}),r.a.createElement(L.a,{required:!0,label:"Tel\xe9fono de contacto",Value:c.phone,placeholder:"Tel\xe9fono de contacto",multiline:!0,name:"phone",variant:"outlined",onChange:g})))),r.a.createElement(S.a,{display:"flex",justifyContent:" flex-end",p:1},b?r.a.createElement(U,{open:p,setOpen:f}):r.a.createElement(W.a,{variant:"contained",color:"secondary",onClick:function(){var e=c.name,a=c.email,n=c.phone;t({name:e,email:a,phone:n})}},"Finalizar compra")))},te=a(186),ae=a(173),ne=a(174),re=a(175),le=a(86),oe=a.n(le),ce=[{img:"https://d2r9epyceweg5n.cloudfront.net/stores/001/063/033/themes/cubo/img-1496020818-1571836119-9fd777a762857253dee5c85d391f64461571836120-480-0.jpg?755810131",title:"Notebooks"},{img:"https://d2r9epyceweg5n.cloudfront.net/stores/001/063/033/themes/cubo/img-81464767-1571836118-cf19072a3268d9b4cd867a36615b71741571836119-640-0.jpg?755810131",title:"Auriculares"},{img:"https://d2r9epyceweg5n.cloudfront.net/stores/001/063/033/themes/cubo/img-1376843658-1571836121-06f7c810f528aa2735df6d4d549505dc1571836121-640-0.jpg?755810131",title:"Smartphones"},{img:"https://images.unsplash.com/photo-1544731612-de7f96afe55f?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80",title:"Notebooks"},{img:"https://images.unsplash.com/photo-1528148343865-51218c4a13e6?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80",title:"Auriculares"},{img:"https://images.unsplash.com/photo-1434493789847-2f02dc6ca35d?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=751&q=80",title:"smartwatches"}],ie=Object(C.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{flexWrap:"nowrap",transform:"translateZ(0)"},title:{color:e.palette.primary.light},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"}}}));function me(){var e=ie();return r.a.createElement("div",{className:e.root},r.a.createElement(ae.a,{className:e.gridList,cols:2.5},ce.map((function(t){return r.a.createElement(ne.a,{key:t.img},r.a.createElement("img",{src:t.img,alt:t.title}),r.a.createElement(re.a,{title:t.title,classes:{root:e.titleBar,title:e.title},actionIcon:r.a.createElement(E.a,{"aria-label":"star ".concat(t.title)},r.a.createElement(oe.a,{className:e.title}))}))}))))}var se=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{marginBottom:"300px"}},r.a.createElement(te.a,{severity:"warning"},r.a.createElement("div",{style:{marginBottom:"20px"}},"\xa1No se tiene productos seleccionados!"),r.a.createElement(c.b,{to:"/",style:{textDecoration:"none"}},r.a.createElement(W.a,{variant:"contained",color:"primary"},"Ver productos")))),r.a.createElement("div",null,r.a.createElement(me,null)))},ue=function(e){var t=e.orderId;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(te.a,{severity:"success"},"Tu orden de compra es: ",t)),r.a.createElement("div",{style:{paddingTop:"400px"}},r.a.createElement(me,null)))},de=a(177),pe=a(180),fe=a(181),ge=a(176),Ee=a(178),be=a(179),he=a(121),ye=function(e){return Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS"}).format(e)},xe=Object(C.a)({root:{width:"80%",margin:"auto",marginTop:"20px"},container:{maxHeight:440}}),ve=function(){var e=r.a.useContext(w),t=e.cartItem,a=e.costoTotal,n=xe();return r.a.createElement(r.a.Fragment,null,r.a.createElement(he.a,{className:n.root},r.a.createElement(ge.a,{className:n.container},r.a.createElement(de.a,{className:n.table,stickyHeader:!0,"aria-label":"sticky table"},r.a.createElement(Ee.a,null,r.a.createElement(be.a,null,r.a.createElement(pe.a,{style:{minWidth:170}},"Producto"),r.a.createElement(pe.a,{style:{minWidth:170}},"Nombre"),r.a.createElement(pe.a,{align:"right",style:{minWidth:100}},"Cantidad"),r.a.createElement(pe.a,{align:"right",style:{minWidth:170}},"precio"))),r.a.createElement(fe.a,null,t.map((function(e){return r.a.createElement(be.a,{key:e.id},r.a.createElement(pe.a,{component:"th",scope:"row"},r.a.createElement("img",{src:e.img,alt:"img",style:{width:"82px"}})),r.a.createElement(pe.a,null,e.name),r.a.createElement(pe.a,{align:"right"},e.count),r.a.createElement(pe.a,{align:"right"},ye(e.price)))})))),r.a.createElement(S.a,{display:"flex",justifyContent:"flex-end",p:1},"Costo total: ",a()))))},we=function(){var e=r.a.useContext(w),t=e.cartItem,a=e.costoTotal,l=e.resetCantCart,o=Object(n.useState)(!1),i=Object(s.a)(o,2),u=i[0],d=i[1],p=Object(n.useState)(null),f=Object(s.a)(p,2),g=f[0],E=f[1];if(0===t.length&&null===g)return r.a.createElement(se,null);function b(){return(b=Object(Y.a)(R.a.mark((function e(n){var r,o,c,i,s,u,d,p,f;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=M(),o=r.collection("orders"),c={buyer:n,cartItem:t,date:D.firestore.FieldValue.serverTimestamp(),total:a()},e.prev=3,e.next=6,o.add(c);case 6:i=e.sent,s=i.id,E(s),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("Error");case 14:return u=r.collection("items").where(D.firestore.FieldPath.documentId(),"in",t.map((function(e){return e.id}))),e.next=17,u.get();case 17:if(d=e.sent,p=r.batch(),f=[],d.docs.forEach((function(e,a){e.data().stock>=t[a].count?p.update(e.ref,{stock:e.data().stock-t[a].count}):f.push(Object(m.a)({},e.data(),{id:e.id}))})),0!==f.length){e.next=24;break}return e.next=24,p.commit();case 24:l();case 25:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}return g?r.a.createElement(ue,{orderId:g}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ve,null),r.a.createElement(S.a,{display:"flex",justifyContent:" flex-end",p:1},r.a.createElement(W.a,{variant:"contained",color:"primary",onClick:function(){return d(!0)}},"checkout")),r.a.createElement(S.a,{display:"flex",justifyContent:" flex-end",p:1,mb:10},r.a.createElement(c.b,{to:"/",style:{textDecoration:"none"}},r.a.createElement(W.a,{variant:"contained",color:"primary"},"Seguir comprando"))),u&&r.a.createElement(ee,{createOrder:function(e){return b.apply(this,arguments)}}),r.a.createElement(me,null))},je=a(182),ke=a(87),Ce=a.n(ke),Oe=function(e){var t=e.min,a=e.stock,n=e.count,l=e.setCount;return r.a.createElement(S.a,{flexDirection:"colum",width:"185px",height:"100px"},r.a.createElement(S.a,{display:"flex",justifyContent:"space-between",border:"solid 1px black",borderRadius:"8px"},a>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce.a,{style:{fontSize:30},onClick:function(){n>t&&l(n-1)}}),r.a.createElement("span",null,n),r.a.createElement(je.a,{style:{fontSize:30},disabled:n===a,onClick:function(){n<a&&l(n+1)}},"add_circle"))))},De=function(e){var t=e.item,a=r.a.useState(1),n=Object(s.a)(a,2),l=n[0],o=n[1],i=r.a.useState(!1),m=Object(s.a)(i,2),u=m[0],d=m[1],p=r.a.useContext(w).productsAdd;return r.a.createElement(S.a,{display:"flex",justifyContent:"center",margin:"auto",flexWrap:"wrap",marginBottom:"150px"},r.a.createElement(S.a,{flexDirection:"colum",marginTop:"60px"},r.a.createElement("h2",null,t.name),r.a.createElement("img",{src:t.img,alt:"img",width:"350"})),r.a.createElement(S.a,{paddingTop:10,margin:5},r.a.createElement("div",{style:{fontWeight:"bold"}},t.description),r.a.createElement("p",null,"Precio: $ ",Intl.NumberFormat().format(t.price)),r.a.createElement("p",null,"Stock disponible: ",t.stock),r.a.createElement(Oe,{setCount:o,count:l,min:1,stock:t.stock}),u?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(c.b,{style:{textDecoration:"none"},to:"/cart"},r.a.createElement(W.a,{variant:"contained",color:"secondary",style:{marginBottom:"20px"}},"Terminar Compra"))),r.a.createElement("div",null,r.a.createElement(c.b,{to:"/",style:{textDecoration:"none"}},r.a.createElement(W.a,{variant:"contained",color:"primary",style:{textDecoration:"none"}},"Seguir comprando")))):r.a.createElement(W.a,{variant:"contained",color:"secondary",fullWidth:!0,onClick:function(){l>0&&(d(!0),p({id:t.id,name:t.name,img:t.img,count:l,price:t.price,stock:t.stock}))},disabled:0===t.stock},"Agregar a carrito")))},Ne=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=(t[0],t[1]),l=Object(n.useState)([]),o=Object(s.a)(l,2),c=o[0],u=o[1],d=Object(i.g)().productId;return Object(n.useEffect)((function(){M().collection("items").doc(d).get().then((function(e){a(!1),u(Object(m.a)({id:e.id},e.data()))}))}),[d]),r.a.createElement(r.a.Fragment,null,0===c.length?r.a.createElement(G,null):r.a.createElement(De,{item:c}))},Me=function(){return r.a.createElement(S.a,{style:{background:"black",height:"60px",color:"white",display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement("span",null,"Designed and built by Roc\xedo Esteban"))},Be=a(89),Se=function(e){var t=e.children,a=Object(n.useState)([]),l=Object(s.a)(a,2),o=l[0],c=l[1];return r.a.createElement(w.Provider,{value:{cartItem:o,productsAdd:function(e){if(o.find((function(t){return t.id===e.id}))){var t=o.map((function(t){return t.id===e.id?Object(m.a)({},t,{count:e.count+t.count}):t}));c(t)}else c((function(t){return[].concat(Object(Be.a)(t),[e])}))},costoTotal:function(){var e=o.reduce((function(e,t){return e+t.price*t.count}),0);return ye(e)},cantTotal:function(){return o.reduce((function(e,t){return e+t.count}),0)},resetCantCart:function(){c([])}}},t)};var We=function(){return r.a.createElement(Se,null,r.a.createElement(c.a,null,r.a.createElement(B,null),r.a.createElement(i.d,null,r.a.createElement(i.a,{from:"/react-ecommerce",to:"/"}),r.a.createElement(i.b,{exact:!0,path:"/"},r.a.createElement(z,null)),r.a.createElement(i.b,{path:"/categories/:categoryId"},r.a.createElement(V,null)),r.a.createElement(i.b,{exact:!0,path:"/cart"},r.a.createElement(we,null)),r.a.createElement(i.b,{exact:!0,path:"/item/:productId"},r.a.createElement(Ne,null))),r.a.createElement(Me,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(We,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[104,1,2]]]);
//# sourceMappingURL=main.8c92e2cc.chunk.js.map